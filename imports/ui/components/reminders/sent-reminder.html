<template name="Component_reminder_sent">
  <div class="accordion accordion-flush" id="accordionFlushParent">
    {{#each reminders}}
    <div class="accordion-item">
      <h2 class="accordion-header" id="flush-headingOne">
        <button
          class="accordion-button collapsed text-slate-600"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#flush-{{_id}}"
          aria-expanded="false"
          aria-controls="flush-collapseOne"
        >
          <div
            class="d-flex align-items-center justify-content-between w-100 me-2"
          >
            <div class="d-flex align-items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="18"
                height="18"
                fill="currentColor"
                class="bi bi-envelope me-2"
                viewBox="0 0 16 16"
              >
                <path
                  d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"
                />
              </svg>
              <span class="text-capitalize me-2">
                {{lookupRecipient message.to}}
              </span>
              <span
                class="text-capitalize badge rounded-pill text-{{colorBadge message.sid}}-500 border-{{colorBadge message.sid}}-300 border"
                >{{findStatus message.sid}}</span
              >
            </div>
            <div class="small">
              Sent from {{formattedNumber message.from}} &bullet; {{getLastDate
              message.sid}}
            </div>
          </div>
        </button>
      </h2>
      <div
        id="flush-{{_id}}"
        class="accordion-collapse collapse"
        aria-labelledby="flush-{{body}}"
        data-bs-parent="#accordionFlushParent"
      >
        <div class="accordion-body bg-slate-100 text-slate-600 small">
          <div class="mb-2">
            <span class="fw-semibold">Message:</span> {{message.body}}
          </div>
          <div
            class="bg-slate-900 text-slate-400 px-3 py-2 rounded font-monospace"
          >
            <div class="d-flex align-items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-arrow-right me-2"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                />
              </svg>
              <span>Message queued on {{formatDate message.dateCreated}}</span>
            </div>
            {{#each twilioReply message.sid}}
            <div class="d-flex align-items-center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-arrow-right me-2"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
                />
              </svg>
              <span
                >Message {{message.SmsStatus}} on {{formatDate createdAt}}</span
              >
            </div>
            {{/each}}
          </div>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
</template>
